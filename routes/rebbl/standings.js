'use strict';
const express = require('express')
, dataService = require('../../lib/DataService.js').rebbl
, configurationService = require('../../lib/ConfigurationService.js')
, util = require('../../lib/util.js');

const styles = {'.allstars_01':'background-color:rgb(183, 28, 26)'
, 'allstars_02':'background-color:rgb(253, 238, 130)'
, 'allstars_03':'background-color:rgb(122, 125, 124)'
, 'amazon_01':'background-color:rgb(52, 43, 35)'
, 'amazon_02':'background-color:rgb(205, 186, 114)'
, 'amazon_03':'background-color:rgb(49, 57, 15)'
, 'amazon_04':'background-color:rgb(58, 58, 58)'
, 'amazon_05':'background-color:rgb(150, 145, 123)'
, 'amazon_06':'background-color:rgb(93, 91, 37)'
, 'amazon_07':'background-color:rgb(101, 112, 87)'
, 'amazon_08':'background-color:rgb(153, 93, 59)'
, 'amazon_09':'background-color:rgb(33, 65, 64)'
, 'amazon_10':'background-color:rgb(118, 101, 43)'
, 'amazon_11':'background-color:rgb(112, 148, 66)'
, 'amazon_12':'background-color:rgb(72, 52, 51)'
, 'amazon_13':'background-color:rgb(51, 47, 41)'
, 'amazon_14':'background-color:rgb(118, 138, 109)'
, 'amazon_15':'background-color:rgb(80, 149, 122)'
, 'amazon_16':'background-color:rgb(159, 143, 107)'
, 'bretonnia_01':'background-color:rgb(241, 157, 0)'
, 'bretonnia_02':'background-color:rgb(45, 0, 0)'
, 'bretonnia_03':'background-color:rgb(197, 26, 23)'
, 'bretonnia_04':'background-color:rgb(165, 84, 2)'
, 'bretonnia_05':'background-color:rgb(150, 150, 150)'
, 'bretonnia_06':'background-color:rgb(0, 0, 0)'
, 'bretonnia_07':'background-color:rgb(174, 174, 174)'
, 'bretonnia_08':'background-color:rgb(150, 150, 150)'
, 'bretonnia_09':'background-color:rgb(0, 0, 0)'
, 'bretonnia_10':'background-color:rgb(249, 157, 0)'
, 'bretonnia_11':'background-color:rgb(219, 105, 0)'
, 'bretonnia_12':'background-color:rgb(242, 151, 4)'
, 'bretonnia_13':'background-color:rgb(146, 146, 146)'
, 'bretonnia_14':'background-color:rgb(0, 0, 0)'
, 'bretonnia_15':'background-color:rgb(153, 3, 2)'
, 'bretonnia_16':'background-color:rgb(125, 125, 125)'
, 'bretonnia_17':'background-color:rgb(0, 0, 0)'
, 'bretonnia_18':'background-color:rgb(237, 184, 0)'
, 'bretonnia_19':'background-color:rgb(0, 0, 0)'
, 'chaos_01':'background-color:rgb(18, 12, 7)'
, 'chaos_02':'background-color:rgb(18, 18, 17)'
, 'chaos_03':'background-color:rgb(163, 30, 31)'
, 'chaos_04':'background-color:rgb(51, 55, 80)'
, 'chaos_05':'background-color:rgb(38, 33, 35)'
, 'chaos_06':'background-color:rgb(23, 26, 28)'
, 'chaos_07':'background-color:rgb(163, 35, 35)'
, 'chaos_08':'background-color:rgb(30, 31, 17)'
, 'chaos_09':'background-color:rgb(112, 66, 60)'
, 'chaos_10':'background-color:rgb(244, 255, 149)'
, 'chaos_11':'background-color:rgb(211, 182, 111)'
, 'chaos_12':'background-color:rgb(210, 205, 190)'
, 'chaos_13':'background-color:rgb(254, 148, 20)'
, 'chaos_14':'background-color:rgb(65, 40, 4)'
, 'chaos_15':'background-color:rgb(33, 8, 14)'
, 'chaos_16':'background-color:rgb(14, 13, 6)'
, 'chaos_17':'background-color:rgb(41, 7, 28)'
, 'chaos_18':'background-color:rgb(39, 12, 19)'
, 'chaos_19':'background-color:rgb(193, 0, 0)'
, 'chaos_20':'background-color:rgb(198, 234, 252)'
, 'chaosdwarf_01':'background-color:rgb(90, 37, 16)'
, 'chaosdwarf_02':'background-color:rgb(169, 128, 87)'
, 'chaosdwarf_03':'background-color:rgb(157, 161, 155)'
, 'chaosdwarf_04':'background-color:rgb(177, 60, 19)'
, 'chaosdwarf_05':'background-color:rgb(245, 176, 26)'
, 'chaosdwarf_06':'background-color:rgb(103, 66, 28)'
, 'chaosdwarf_07':'background-color:rgb(169, 126, 103)'
, 'chaosdwarf_08':'background-color:rgb(207, 86, 3)'
, 'chaosdwarf_09':'background-color:rgb(243, 164, 36)'
, 'chaosdwarf_10':'background-color:rgb(62, 52, 50)'
, 'chaosdwarf_11':'background-color:rgb(218, 183, 41)'
, 'chaosdwarf_12':'background-color:rgb(31, 53, 69)'
, 'chaosdwarf_13':'background-color:rgb(89, 48, 48)'
, 'chaosdwarf_14':'background-color:rgb(98, 123, 78)'
, 'darkelf_01':'background-color:rgb(162, 135, 75)'
, 'darkelf_02':'background-color:rgb(70, 45, 47)'
, 'darkelf_03':'background-color:rgb(22, 0, 0)'
, 'darkelf_04':'background-color:rgb(209, 204, 181)'
, 'darkelf_05':'background-color:rgb(180, 183, 204)'
, 'darkelf_06':'background-color:rgb(214, 51, 70)'
, 'darkelf_07':'background-color:rgb(185, 62, 79)'
, 'darkelf_08':'background-color:rgb(18, 16, 16)'
, 'darkelf_09':'background-color:rgb(22, 6, 6)'
, 'darkelf_10':'background-color:rgb(99, 98, 80)'
, 'darkelf_11':'background-color:rgb(182, 167, 151)'
, 'darkelf_12':'background-color:rgb(237, 196, 189)'
, 'darkelf_13':'background-color:rgb(124, 170, 220)'
, 'darkelf_14':'background-color:rgb(11, 0, 10)'
, 'darkelf_15':'background-color:rgb(219, 239, 216)'
, 'darkelf_16':'background-color:rgb(106, 169, 182)'
, 'darkelf_17':'background-color:rgb(63, 6, 73)'
, 'darkelf_18':'background-color:rgb(40, 17, 18)'
, 'darkelf_19':'background-color:rgb(52, 2, 8)'
, 'darkelf_20':'background-color:rgb(118, 96, 98)'
, 'dwarf_01':'background-color:rgb(123, 86, 43)'
, 'dwarf_02':'background-color:rgb(20, 48, 124)'
, 'dwarf_03':'background-color:rgb(101, 97, 74)'
, 'dwarf_04':'background-color:rgb(141, 78, 60)'
, 'dwarf_05':'background-color:rgb(50, 28, 18)'
, 'dwarf_06':'background-color:rgb(86, 84, 72)'
, 'dwarf_07':'background-color:rgb(102, 122, 87)'
, 'dwarf_08':'background-color:rgb(202, 118, 82)'
, 'dwarf_09':'background-color:rgb(94, 30, 16)'
, 'dwarf_10':'background-color:rgb(160, 156, 137)'
, 'dwarf_11':'background-color:rgb(189, 183, 177)'
, 'dwarf_12':'background-color:rgb(80, 76, 65)'
, 'dwarf_13':'background-color:rgb(150, 79, 64)'
, 'dwarf_14':'background-color:rgb(118, 108, 102)'
, 'dwarf_15':'background-color:rgb(211, 168, 140)'
, 'dwarf_16':'background-color:rgb(23, 22, 22)'
, 'dwarf_17':'background-color:rgb(31, 24, 16)'
, 'dwarf_18':'background-color:rgb(0, 0, 0)'
, 'dwarf_19':'background-color:rgb(23, 44, 52)'
, 'dwarf_20':'background-color:rgb(0, 0, 0)'
, 'elf_01':'background-color:rgb(234, 33, 53)'
, 'elf_02':'background-color:rgb(79, 148, 255)'
, 'elf_03':'background-color:rgb(242, 187, 13)'
, 'elf_04':'background-color:rgb(249, 175, 46)'
, 'elf_05':'background-color:rgb(178, 156, 156)'
, 'elf_06':'background-color:rgb(58, 122, 166)'
, 'elf_07':'background-color:rgb(251, 191, 70)'
, 'elf_08':'background-color:rgb(7, 85, 105)'
, 'elf_09':'background-color:rgb(164, 58, 6)'
, 'elf_10':'background-color:rgb(242, 195, 89)'
, 'elf_11':'background-color:rgb(24, 127, 174)'
, 'elf_12':'background-color:rgb(192, 58, 62)'
, 'elf_13':'background-color:rgb(2, 68, 148)'
, 'goblin_01':'background-color:rgb(153, 34, 24)'
, 'goblin_02':'background-color:rgb(199, 174, 154)'
, 'goblin_03':'background-color:rgb(45, 59, 13)'
, 'goblin_04':'background-color:rgb(10, 7, 0)'
, 'goblin_05':'background-color:rgb(34, 20, 9)'
, 'goblin_06':'background-color:rgb(96, 39, 42)'
, 'goblin_07':'background-color:rgb(177, 52, 12)'
, 'goblin_08':'background-color:rgb(249, 213, 148)'
, 'goblin_09':'background-color:rgb(253, 87, 0)'
, 'goblin_10':'background-color:rgb(88, 143, 27)'
, 'goblin_11':'background-color:rgb(137, 107, 20)'
, 'goblin_12':'background-color:rgb(2, 6, 9)'
, 'goblin_13':'background-color:rgb(27, 23, 14)'
, 'goblin_14':'background-color:rgb(190, 49, 6)'
, 'goblin_15':'background-color:rgb(184, 158, 205)'
, 'goblin_16':'background-color:rgb(240, 203, 40)'
, 'goblin_17':'background-color:rgb(159, 85, 50)'
, 'goblin_18':'background-color:rgb(24, 12, 8)'
, 'halfling_01':'background-color:rgb(145, 185, 185)'
, 'halfling_02':'background-color:rgb(237, 213, 200)'
, 'halfling_03':'background-color:rgb(47, 148, 170)'
, 'halfling_04':'background-color:rgb(139, 141, 147)'
, 'halfling_05':'background-color:rgb(230, 117, 89)'
, 'halfling_06':'background-color:rgb(247, 108, 244)'
, 'halfling_07':'background-color:rgb(227, 165, 107)'
, 'halfling_08':'background-color:rgb(103, 121, 75)'
, 'halfling_09':'background-color:rgb(175, 165, 171)'
, 'halfling_10':'background-color:rgb(228, 247, 139)'
, 'halfling_11':'background-color:rgb(148, 33, 50)'
, 'halfling_12':'background-color:rgb(80, 48, 28)'
, 'halfling_13':'background-color:rgb(210, 86, 44)'
, 'halfling_14':'background-color:rgb(102, 56, 66)'
, 'halfling_15':'background-color:rgb(83, 56, 20)'
, 'halfling_16':'background-color:rgb(143, 106, 29)'
, 'halfling_17':'background-color:rgb(237, 154, 231)'
, 'halfling_18':'background-color:rgb(98, 133, 54)'
, 'halfling_19':'background-color:rgb(117, 140, 48)'
, 'halfling_20':'background-color:rgb(99, 31, 28)'
, 'highelf_01':'background-color:rgb(177, 18, 21)'
, 'highelf_02':'background-color:rgb(193, 171, 59)'
, 'highelf_03':'background-color:rgb(151, 166, 172)'
, 'highelf_04':'background-color:rgb(121, 36, 7)'
, 'highelf_05':'background-color:rgb(89, 51, 2)'
, 'highelf_06':'background-color:rgb(200, 186, 164)'
, 'highelf_07':'background-color:rgb(30, 26, 22)'
, 'highelf_08':'background-color:rgb(18, 14, 0)'
, 'highelf_09':'background-color:rgb(137, 164, 117)'
, 'highelf_10':'background-color:rgb(210, 147, 82)'
, 'highelf_11':'background-color:rgb(149, 97, 31)'
, 'highelf_12':'background-color:rgb(134, 136, 142)'
, 'highelf_13':'background-color:rgb(210, 206, 169)'
, 'highelf_14':'background-color:rgb(41, 109, 112)'
, 'highelf_15':'background-color:rgb(31, 31, 31)'
, 'highelf_16':'background-color:rgb(231, 219, 189)'
, 'highelf_17':'background-color:rgb(14, 2, 28)'
, 'highelf_18':'background-color:rgb(193, 30, 45)'
, 'highelf_19':'background-color:rgb(39, 80, 119)'
, 'highelf_20':'background-color:rgb(214, 165, 30)'
, 'human_01':'background-color:rgb(255, 177, 46)'
, 'human_02':'background-color:rgb(97, 0, 0)'
, 'human_03':'background-color:rgb(241, 229, 191)'
, 'human_04':'background-color:rgb(134, 15, 0)'
, 'human_05':'background-color:rgb(254, 229, 66)'
, 'human_06':'background-color:rgb(122, 81, 79)'
, 'human_07':'background-color:rgb(11, 23, 19)'
, 'human_08':'background-color:rgb(255, 255, 174)'
, 'human_09':'background-color:rgb(243, 214, 175)'
, 'human_10':'background-color:rgb(0, 45, 79)'
, 'human_11':'background-color:rgb(101, 155, 183)'
, 'human_12':'background-color:rgb(200, 190, 158)'
, 'human_13':'background-color:rgb(60, 13, 0)'
, 'human_14':'background-color:rgb(52, 45, 30)'
, 'human_15':'background-color:rgb(255, 146, 74)'
, 'human_16':'background-color:rgb(213, 194, 191)'
, 'human_17':'background-color:rgb(187, 175, 105)'
, 'human_18':'background-color:rgb(255, 202, 14)'
, 'human_19':'background-color:rgb(168, 126, 34)'
, 'human_20':'background-color:rgb(189, 92, 46)'
, 'khemri_01':'background-color:rgb(167, 18, 0)'
, 'khemri_02':'background-color:rgb(45, 80, 144)'
, 'khemri_03':'background-color:rgb(197, 170, 128)'
, 'khemri_04':'background-color:rgb(131, 23, 26)'
, 'khemri_05':'background-color:rgb(216, 227, 166)'
, 'khemri_06':'background-color:rgb(49, 68, 107)'
, 'khemri_07':'background-color:rgb(158, 96, 46)'
, 'khemri_08':'background-color:rgb(73, 29, 21)'
, 'khemri_09':'background-color:rgb(176, 120, 78)'
, 'khemri_10':'background-color:rgb(196, 115, 110)'
, 'khemri_11':'background-color:rgb(150, 162, 170)'
, 'khemri_12':'background-color:rgb(88, 87, 78)'
, 'khemri_13':'background-color:rgb(204, 152, 55)'
, 'khemri_14':'background-color:rgb(173, 146, 139)'
, 'khorne_01':'background-color:rgb(195, 100, 6)'
, 'khorne_02':'background-color:rgb(0, 0, 0)'
, 'khorne_03':'background-color:rgb(190, 68, 45)'
, 'khorne_04':'background-color:rgb(127, 77, 71)'
, 'khorne_05':'background-color:rgb(52, 19, 20)'
, 'khorne_06':'background-color:rgb(132, 129, 115)'
, 'khorne_07':'background-color:rgb(145, 37, 17)'
, 'khorne_08':'background-color:rgb(151, 48, 44)'
, 'khorne_09':'background-color:rgb(76, 9, 19)'
, 'khorne_10':'background-color:rgb(76, 9, 19)'
, 'khorne_11':'background-color:rgb(147, 79, 83)'
, 'khorne_12':'background-color:rgb(233, 159, 13)'
, 'khorne_13':'background-color:rgb(207, 45, 16)'
, 'khorne_14':'background-color:rgb(203, 197, 197)'
, 'khorne_15':'background-color:rgb(195, 191, 167)'
, 'khorne_16':'background-color:rgb(7, 3, 3)'
, 'kislev_01':'background-color:rgb(131, 59, 29)'
, 'kislev_02':'background-color:rgb(28, 14, 2)'
, 'kislev_03':'background-color:rgb(70, 54, 28)'
, 'kislev_04':'background-color:rgb(168, 110, 110)'
, 'kislev_05':'background-color:rgb(153, 129, 54)'
, 'kislev_06':'background-color:rgb(64, 182, 226)'
, 'kislev_07':'background-color:rgb(114, 66, 0)'
, 'kislev_08':'background-color:rgb(85, 169, 221)'
, 'kislev_09':'background-color:rgb(110, 75, 54)'
, 'kislev_10':'background-color:rgb(105, 94, 84)'
, 'kislev_11':'background-color:rgb(2, 121, 196)'
, 'kislev_12':'background-color:rgb(0, 0, 0)'
, 'kislev_13':'background-color:rgb(179, 175, 184)'
, 'kislev_14':'background-color:rgb(36, 42, 42)'
, 'kislev_15':'background-color:rgb(65, 57, 51)'
, 'kislev_16':'background-color:rgb(255, 255, 237)'
, 'lizardman_01':'background-color:rgb(96, 70, 36)'
, 'lizardman_02':'background-color:rgb(0, 0, 0)'
, 'lizardman_03':'background-color:rgb(148, 115, 71)'
, 'lizardman_04':'background-color:rgb(56, 164, 17)'
, 'lizardman_05':'background-color:rgb(140, 150, 70)'
, 'lizardman_06':'background-color:rgb(48, 0, 0)'
, 'lizardman_07':'background-color:rgb(69, 22, 40)'
, 'lizardman_08':'background-color:rgb(21, 163, 100)'
, 'lizardman_09':'background-color:rgb(24, 117, 78)'
, 'lizardman_10':'background-color:rgb(27, 169, 108)'
, 'lizardman_11':'background-color:rgb(73, 146, 93)'
, 'lizardman_12':'background-color:rgb(17, 73, 85)'
, 'lizardman_13':'background-color:rgb(233, 178, 39)'
, 'lizardman_14':'background-color:rgb(231, 205, 49)'
, 'lizardman_15':'background-color:rgb(210, 214, 80)'
, 'lizardman_16':'background-color:rgb(0, 0, 0)'
, 'lizardman_17':'background-color:rgb(12, 148, 153)'
, 'lizardman_18':'background-color:rgb(53, 52, 40)'
, 'lizardman_19':'background-color:rgb(83, 29, 13)'
, 'lizardman_20':'background-color:rgb(255, 217, 77)'
, 'lizardman_21':'background-color:rgb(207, 236, 25)'
, 'lizardman_22':'background-color:rgb(235, 207, 48)'
, 'necromantic_01':'background-color:rgb(199, 103, 89)'
, 'necromantic_02':'background-color:rgb(250, 216, 73)'
, 'necromantic_03':'background-color:rgb(148, 53, 43)'
, 'necromantic_04':'background-color:rgb(92, 76, 38)'
, 'necromantic_05':'background-color:rgb(139, 85, 75)'
, 'necromantic_06':'background-color:rgb(168, 126, 91)'
, 'necromantic_07':'background-color:rgb(139, 85, 75)'
, 'necromantic_08':'background-color:rgb(145, 210, 234)'
, 'necromantic_09':'background-color:rgb(243, 227, 168)'
, 'necromantic_10':'background-color:rgb(179, 170, 145)'
, 'necromantic_11':'background-color:rgb(158, 142, 54)'
, 'necromantic_12':'background-color:rgb(197, 189, 157)'
, 'necromantic_13':'background-color:rgb(63, 94, 101)'
, 'necromantic_14':'background-color:rgb(190, 190, 146)'
, 'neutre_01':'background-color:rgb(129, 70, 32)'
, 'neutre_02':'background-color:rgb(154, 18, 0)'
, 'neutre_03':'background-color:rgb(231, 234, 182)'
, 'neutre_04':'background-color:rgb(0, 0, 0)'
, 'neutre_05':'background-color:rgb(171, 149, 104)'
, 'neutre_06':'background-color:rgb(143, 0, 0)'
, 'neutre_07':'background-color:rgb(244, 202, 80)'
, 'neutre_08':'background-color:rgb(18, 16, 12)'
, 'neutre_09':'background-color:rgb(161, 105, 83)'
, 'neutre_10':'background-color:rgb(158, 226, 100)'
, 'neutre_11':'background-color:rgb(222, 206, 142)'
, 'neutre_12':'background-color:rgb(221, 157, 142)'
, 'neutre_13':'background-color:rgb(31, 31, 31)'
, 'neutre_14':'background-color:rgb(27, 18, 12)'
, 'neutre_15':'background-color:rgb(137, 134, 96)'
, 'neutre_16':'background-color:rgb(151, 173, 44)'
, 'neutre_17':'background-color:rgb(0, 0, 0)'
, 'neutre_18':'background-color:rgb(31, 25, 24)'
, 'neutre_19':'background-color:rgb(170, 183, 186)'
, 'neutre_20':'background-color:rgb(255, 176, 17)'
, 'neutre_21':'background-color:rgb(206, 201, 175)'
, 'neutre_22':'background-color:rgb(234, 208, 164)'
, 'neutre_23':'background-color:rgb(14, 10, 10)'
, 'neutre_24':'background-color:rgb(48, 34, 26)'
, 'neutre_25':'background-color:rgb(26, 20, 17)'
, 'neutre_26':'background-color:rgb(206, 201, 175)'
, 'neutre_27':'background-color:rgb(22, 15, 14)'
, 'neutre_28':'background-color:rgb(19, 14, 11)'
, 'neutre_29':'background-color:rgb(250, 172, 137)'
, 'neutre_30':'background-color:rgb(0, 0, 0)'
, 'norse_01':'background-color:rgb(94, 107, 141)'
, 'norse_02':'background-color:rgb(104, 106, 118)'
, 'norse_03':'background-color:rgb(84, 113, 142)'
, 'norse_04':'background-color:rgb(140, 165, 204)'
, 'norse_05':'background-color:rgb(140, 69, 55)'
, 'norse_06':'background-color:rgb(226, 218, 119)'
, 'norse_07':'background-color:rgb(70, 82, 4)'
, 'norse_08':'background-color:rgb(229, 222, 183)'
, 'norse_09':'background-color:rgb(202, 60, 46)'
, 'norse_10':'background-color:rgb(137, 121, 107)'
, 'norse_11':'background-color:rgb(139, 44, 17)'
, 'norse_12':'background-color:rgb(226, 186, 136)'
, 'norse_13':'background-color:rgb(215, 195, 179)'
, 'norse_14':'background-color:rgb(106, 102, 101)'
, 'norse_15':'background-color:rgb(190, 173, 158)'
, 'nurgle_01':'background-color:rgb(107, 45, 21)'
, 'nurgle_02':'background-color:rgb(138, 152, 158)'
, 'nurgle_03':'background-color:rgb(164, 82, 44)'
, 'nurgle_04':'background-color:rgb(180, 188, 72)'
, 'nurgle_05':'background-color:rgb(37, 38, 14)'
, 'nurgle_06':'background-color:rgb(160, 5, 15)'
, 'nurgle_07':'background-color:rgb(57, 38, 34)'
, 'nurgle_08':'background-color:rgb(164, 165, 130)'
, 'nurgle_09':'background-color:rgb(121, 85, 81)'
, 'nurgle_10':'background-color:rgb(154, 130, 99)'
, 'nurgle_11':'background-color:rgb(53, 43, 78)'
, 'nurgle_12':'background-color:rgb(216, 108, 112)'
, 'nurgle_13':'background-color:rgb(84, 172, 42)'
, 'nurgle_14':'background-color:rgb(180, 154, 48)'
, 'ogre_01':'background-color:rgb(156, 142, 109)'
, 'ogre_02':'background-color:rgb(49, 47, 60)'
, 'ogre_03':'background-color:rgb(32, 50, 52)'
, 'ogre_04':'background-color:rgb(123, 108, 134)'
, 'ogre_05':'background-color:rgb(136, 131, 143)'
, 'ogre_06':'background-color:rgb(46, 56, 67)'
, 'ogre_07':'background-color:rgb(89, 88, 94)'
, 'ogre_08':'background-color:rgb(55, 44, 38)'
, 'ogre_09':'background-color:rgb(69, 52, 31)'
, 'ogre_10':'background-color:rgb(77, 77, 82)'
, 'ogre_11':'background-color:rgb(89, 90, 100)'
, 'ogre_12':'background-color:rgb(180, 171, 116)'
, 'ogre_13':'background-color:rgb(26, 98, 128)'
, 'ogre_14':'background-color:rgb(113, 88, 83)'
, 'ogre_15':'background-color:rgb(53, 60, 63)'
, 'orc_01':'background-color:rgb(166, 0, 0)'
, 'orc_02':'background-color:rgb(178, 0, 0)'
, 'orc_03':'background-color:rgb(9, 9, 7)'
, 'orc_04':'background-color:rgb(193, 142, 11)'
, 'orc_05':'background-color:rgb(218, 207, 42)'
, 'orc_06':'background-color:rgb(101, 55, 41)'
, 'orc_07':'background-color:rgb(119, 73, 32)'
, 'orc_08':'background-color:rgb(155, 30, 15)'
, 'orc_09':'background-color:rgb(101, 28, 31)'
, 'orc_10':'background-color:rgb(13, 13, 11)'
, 'orc_11':'background-color:rgb(220, 204, 182)'
, 'orc_12':'background-color:rgb(165, 32, 24)'
, 'orc_13':'background-color:rgb(168, 146, 136)'
, 'orc_14':'background-color:rgb(81, 148, 4)'
, 'orc_15':'background-color:rgb(130, 20, 12)'
, 'orc_16':'background-color:rgb(149, 167, 78)'
, 'orc_17':'background-color:rgb(0, 0, 0)'
, 'orc_18':'background-color:rgb(147, 38, 20)'
, 'orc_19':'background-color:rgb(255, 254, 1)'
, 'orc_20':'background-color:rgb(2, 5, 2)'
, 'skaven_01':'background-color:rgb(242, 185, 157)'
, 'skaven_02':'background-color:rgb(95, 40, 32)'
, 'skaven_03':'background-color:rgb(78, 86, 53)'
, 'skaven_04':'background-color:rgb(137, 148, 94)'
, 'skaven_05':'background-color:rgb(127, 36, 33)'
, 'skaven_06':'background-color:rgb(18, 22, 0)'
, 'skaven_07':'background-color:rgb(13, 12, 14)'
, 'skaven_08':'background-color:rgb(81, 89, 56)'
, 'skaven_09':'background-color:rgb(215, 205, 181)'
, 'skaven_10':'background-color:rgb(36, 6, 28)'
, 'skaven_11':'background-color:rgb(218, 195, 106)'
, 'skaven_12':'background-color:rgb(21, 10, 5)'
, 'skaven_13':'background-color:rgb(35, 25, 10)'
, 'skaven_14':'background-color:rgb(38, 5, 2)'
, 'skaven_15':'background-color:rgb(137, 110, 61)'
, 'skaven_16':'background-color:rgb(19, 20, 15)'
, 'skaven_17':'background-color:rgb(189, 182, 112)'
, 'skaven_18':'background-color:rgb(244, 16, 0)'
, 'skaven_19':'background-color:rgb(28, 13, 2)'
, 'skaven_20':'background-color:rgb(125, 109, 76)'
, 'slaanesh_01':'background-color:rgb(123, 56, 108)'
, 'slaanesh_02':'background-color:rgb(61, 58, 122)'
, 'slaanesh_03':'background-color:rgb(30, 23, 32)'
, 'slaanesh_04':'background-color:rgb(125, 26, 26)'
, 'slaanesh_05':'background-color:rgb(183, 140, 166)'
, 'slaanesh_06':'background-color:rgb(72, 75, 73)'
, 'slaanesh_07':'background-color:rgb(52, 45, 47)'
, 'slaanesh_08':'background-color:rgb(102, 35, 38)'
, 'slaanesh_09':'background-color:rgb(108, 44, 81)'
, 'slaanesh_10':'background-color:rgb(0, 0, 0)'
, 'slaanesh_11':'background-color:rgb(41, 36, 45)'
, 'slaanesh_12':'background-color:rgb(72, 136, 132)'
, 'slaanesh_13':'background-color:rgb(76, 30, 54)'
, 'slaanesh_14':'background-color:rgb(76, 175, 204)'
, 'slaanesh_15':'background-color:rgb(103, 140, 36)'
, 'slaanesh_16':'background-color:rgb(111, 52, 44)'
, 'slaanesh_17':'background-color:rgb(58, 40, 81)'
, 'slaanesh_18':'background-color:rgb(31, 90, 129)'
, 'slaanesh_19':'background-color:rgb(68, 66, 70)'
, 'slaanesh_20':'background-color:rgb(183, 180, 147)'
, 'undead_01':'background-color:rgb(220, 178, 110)'
, 'undead_02':'background-color:rgb(89, 101, 144)'
, 'undead_03':'background-color:rgb(8, 8, 7)'
, 'undead_04':'background-color:rgb(104, 59, 52)'
, 'undead_05':'background-color:rgb(146, 136, 109)'
, 'undead_06':'background-color:rgb(124, 89, 65)'
, 'undead_07':'background-color:rgb(161, 144, 61)'
, 'undead_08':'background-color:rgb(131, 90, 81)'
, 'undead_09':'background-color:rgb(206, 208, 168)'
, 'undead_10':'background-color:rgb(145, 153, 144)'
, 'undead_11':'background-color:rgb(152, 174, 150)'
, 'undead_12':'background-color:rgb(60, 45, 137)'
, 'undead_13':'background-color:rgb(63, 12, 0)'
, 'undead_14':'background-color:rgb(16, 21, 14)'
, 'undead_15':'background-color:rgb(12, 42, 10)'
, 'underworld_01':'background-color:rgb(159, 126, 40)'
, 'underworld_02':'background-color:rgb(89, 77, 52)'
, 'underworld_03':'background-color:rgb(167, 124, 110)'
, 'underworld_04':'background-color:rgb(83, 71, 71)'
, 'underworld_05':'background-color:rgb(77, 74, 74)'
, 'underworld_06':'background-color:rgb(58, 96, 120)'
, 'underworld_07':'background-color:rgb(65, 131, 50)'
, 'underworld_08':'background-color:rgb(154, 202, 130)'
, 'underworld_09':'background-color:rgb(23, 56, 26)'
, 'underworld_10':'background-color:rgb(238, 240, 159)'
, 'underworld_11':'background-color:rgb(113, 54, 27)'
, 'underworld_12':'background-color:rgb(91, 159, 54)'
, 'underworld_13':'background-color:rgb(209, 188, 166)'
, 'underworld_14':'background-color:rgb(68, 94, 42)'
, 'underworld_15':'background-color:rgb(117, 81, 16)'
, 'vampire_01':'background-color:rgb(164, 56, 28)'
, 'vampire_02':'background-color:rgb(70, 45, 41)'
, 'vampire_03':'background-color:rgb(178, 98, 87)'
, 'vampire_04':'background-color:rgb(107, 15, 15)'
, 'vampire_05':'background-color:rgb(206, 205, 181)'
, 'vampire_06':'background-color:rgb(135, 139, 140)'
, 'vampire_07':'background-color:rgb(25, 32, 36)'
, 'vampire_08':'background-color:rgb(77, 23, 19)'
, 'vampire_09':'background-color:rgb(82, 73, 65)'
, 'vampire_10':'background-color:rgb(139, 151, 158)'
, 'vampire_11':'background-color:rgb(163, 37, 34)'
, 'vampire_12':'background-color:rgb(77, 20, 20)'
, 'vampire_13':'background-color:rgb(44, 53, 71)'
, 'vampire_14':'background-color:rgb(60, 64, 67)'
, 'vampire_15':'background-color:rgb(149, 124, 75)'
, 'woodelf_01':'background-color:rgb(47, 64, 29)'
, 'woodelf_02':'background-color:rgb(24, 23, 14)'
, 'woodelf_03':'background-color:rgb(71, 62, 100)'
, 'woodelf_04':'background-color:rgb(218, 215, 181)'
, 'woodelf_05':'background-color:rgb(219, 224, 232)'
, 'woodelf_06':'background-color:rgb(45, 34, 16)'
, 'woodelf_07':'background-color:rgb(84, 200, 117)'
, 'woodelf_08':'background-color:rgb(255, 246, 167)'
, 'woodelf_09':'background-color:rgb(36, 51, 43)'
, 'woodelf_10':'background-color:rgb(132, 79, 37)'
, 'woodelf_11':'background-color:rgb(83, 19, 10)'
, 'woodelf_12':'background-color:rgb(115, 213, 139)'
, 'woodelf_13':'background-color:rgb(18, 38, 26)'
, 'woodelf_14':'background-color:rgb(98, 44, 89)'
, 'woodelf_15':'background-color:rgb(59, 29, 30)'
, 'woodelf_16':'background-color:rgb(0, 0, 0)'
, 'woodelf_17':'background-color:rgb(49, 98, 40)'
, 'woodelf_18':'background-color:rgb(11, 34, 35)'
, 'woodelf_19':'background-color:rgb(255, 248, 176)'
, 'woodelf_20':'background-color:rgb(54, 109, 61)'
, 'woodelf_21':'background-color:rgb(79, 52, 32)'};



class Standings{
	constructor(){
		this.router = express.Router({mergeParams:true});
	}

  

  routesConfig(){
    this.router.get('/:league', util.cache(300), async function(req, res){
      let data = {company:req.params.company};
      if(data.company ==='hjmc')
        res.render('rebbl/standings/hjmc', data);
      //if(req.params.league === 'Rebbl One Minute League')
      //  res.render('rebbl/standings/hjmc', data);
      else
        res.render('rebbl/standings/index', data);
    });

    this.router.get('/:league/:season/:competition',util.cache(300), async function(req, res){
      const teamName1 = function(name){
        if (/\[colour=/i.test(name)){
            name = name.replace(/\[colour=.*]/i,'');
        }
        name = name.trim().split(' ');
        name.splice(-1,1);
        if (name.length === 0) return '\xA0';
        return name.join(' ');
      };
      const teamName2= function(name){
        if (/\[colour=/i.test(name)){
            name = name.replace(/\[colour=.*]/i,'');
        }
        name = name.trim().split(' ');
        return name.splice(-1,1);
      };

      let data = {company:req.params.company, league:req.params.league, competition:req.params.competition, season:req.params.season};
      if(data.company ==='caster'){
        data.tickets = configurationService.getCompetitionTickets(req.params.league, req.params.competition);
        const standings = await dataService.getStandings({
          'league':new RegExp(`^${req.params.league}`,'i'), 
          'season':new RegExp(`^${req.params.season}`,'i'), 
          'competition':new RegExp(`^${req.params.competition}`,'i')
        });
        data.standings = [];
        for(const standing of standings){
          standing.teamName1 = teamName1(standing.team);
          standing.teamName2 = teamName2(standing.team);
          
          if (standing.logo) continue;
  
          const team = await dataService.getTeam({'team.id': standing.teamId});
          if (team) standing.logo = team.team.logo;
        }

        for(let x in [0,1])
          data.standings[x] = standings.filter((n,i) => i >= x*Math.floor(standings.length/2) && i < Math.floor(standings.length/2) + x*Math.floor(standings.length/2));

        data.styles = styles;
        res.render('rebbl/standings/caster', data);
      }
      else
        res.render('rebbl/standings/index', data);
    });
    return this.router;
  }
}  

module.exports = Standings;